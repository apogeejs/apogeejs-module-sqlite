{"fileType":"apogee app js workspace","version":"0.60","references":{"refEntries":[{"url":"apogeejs-module-sqlite","nickname":"apogeejs-module-sqlite","entryType":"npm module"}],"viewState":{"treeState":1,"lists":{"npm module":{"treeState":1}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"SqliteTest","children":{"createDatabaseFile":{"name":"createDatabaseFile","type":"apogee.Folder","children":{"parentFolderForm":{"name":"parentFolderForm","type":"apogee.Folder","children":{"input":{"name":"input","type":"apogee.JsonMember","updateData":{"data":""}},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":"C:\\Dave\\dev\\github\\apogeejs-module-repository\\database"}}},"childrenNotWriteable":true},"createDatabaseQuery":{"name":"createDatabaseQuery","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"databasePath","pathType":"simple","queryType":"all","sql":"SELECT * \nFROM sqlite_master;","sqlType":"value","params":"","parameterType":"value","cached":false,"openType":"read","verbose":true,"createIfMissing":true}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = databasePath\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"all\"\noutput[\"sql\"] = \"SELECT * \\nFROM sqlite_master;\"\noutput[\"sqlType\"] = \"value\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"read\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = true\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}},"onceCellForm":{"name":"onceCellForm","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return  {\n    parentFolder: parentFolderForm.value,\n    fileName: dbFileNameForm.value.fileName\n}","supplementalCode":""}},"createDatabaseData":{"name":"createDatabaseData","type":"apogee.JsonMember","updateData":{"data":{"parentFolder":"C:\\Dave\\dev\\github\\apogeejs-module-repository\\database","fileName":"test.db"}}},"dbFileNameForm":{"name":"dbFileNameForm","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"uniqueKey":"topLevelDataPanel","type":"panel","formData":[{"key":"basicTextField","value":{"uniqueKey":"basicTextField","type":"textField","label":"DB Filename: ","customLayout":{"size":"50"},"value":"","expressionType":"value","hint":"","help":"","useSelector":"none","key":"fileName"}}]}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"data":{"uniqueKey":"topLevelDataPanel","type":"panel","formData":[{"key":"basicTextField","value":{"uniqueKey":"basicTextField","type":"textField","label":"DB Filename: ","customLayout":{"size":"50"},"value":"","expressionType":"value","hint":"","help":"","useSelector":"none","key":"fileName"}}]},"contextParentGeneration":2}},"data":{"name":"data","type":"apogee.DesignerDataFormMember"},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":{"fileName":"test.db"}}}},"childrenNotWriteable":true},"databasePath":{"name":"databasePath","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"if((!createDatabaseData.parentFolder)||(!createDatabaseData.fileName)) {\n   return apogeeutil.INVALID_VALUE; \n}\n\nlet path = require(\"path\");\nreturn path.join(createDatabaseData.parentFolder,createDatabaseData.fileName);","supplementalCode":""}}}},"insertTableRow":{"name":"insertTableRow","type":"apogee.Folder","children":{"dbFileForm":{"name":"dbFileForm","type":"apogee.Folder","children":{"input":{"name":"input","type":"apogee.JsonMember","updateData":{"data":""}},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":"C:\\Dave\\dev\\github\\apogeejs-module-repository\\database\\test.db"}}},"childrenNotWriteable":true},"dbSchemaQuery":{"name":"dbSchemaQuery","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"dbFileForm.value","pathType":"simple","queryType":"all","sql":"select * from sqlite_schema where TYPE = \"table\"","sqlType":"value","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = dbFileForm.value\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"all\"\noutput[\"sql\"] = \"select * from sqlite_schema where TYPE = \\\"table\\\"\"\noutput[\"sqlType\"] = \"value\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}},"tableList":{"name":"tableList","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"if(Array.isArray(dbSchemaQuery.data)) {\n    return dbSchemaQuery.data.map(tableInfo => tableInfo.name);\n}\nelse {\n    return [];\n}","supplementalCode":""}},"tableColumnSql":{"name":"tableColumnSql","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"if(tableNameForm.value.table) {\n    return `PRAGMA table_info(${tableNameForm.value.table})`\n}\nelse {\n    return apogeeutil.INVALID_VALUE;\n}","supplementalCode":""}},"tableNameForm":{"name":"tableNameForm","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"uniqueKey":"topLevelDataPanel","type":"panel","formData":[{"key":"basicDropdown","value":{"uniqueKey":"basicDropdown","type":"dropdown","label":"Table: ","entries":"tableList","entriesType":"reference","valueMixed":"","valueType":"string","hint":"","help":"","useSelector":"none","key":"table"}}]}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"uniqueKey\"] = \"topLevelDataPanel\"\noutput[\"type\"] = \"panel\"\noutput[\"formData\"]= []\noutput[\"formData\"][0]= {};\noutput[\"formData\"][0][\"key\"] = \"basicDropdown\"\noutput[\"formData\"][0][\"value\"]= {};\noutput[\"formData\"][0][\"value\"][\"uniqueKey\"] = \"basicDropdown\"\noutput[\"formData\"][0][\"value\"][\"type\"] = \"dropdown\"\noutput[\"formData\"][0][\"value\"][\"label\"] = \"Table: \"\noutput[\"formData\"][0][\"value\"][\"entries\"] = tableList\noutput[\"formData\"][0][\"value\"][\"entriesType\"] = \"reference\"\noutput[\"formData\"][0][\"value\"][\"valueMixed\"] = \"\"\noutput[\"formData\"][0][\"value\"][\"valueType\"] = \"string\"\noutput[\"formData\"][0][\"value\"][\"hint\"] = \"\"\noutput[\"formData\"][0][\"value\"][\"help\"] = \"\"\noutput[\"formData\"][0][\"value\"][\"useSelector\"] = \"none\"\noutput[\"formData\"][0][\"value\"][\"key\"] = \"table\"\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.DesignerDataFormMember"},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":{"table":"user"}}}}},"tableColumnInfo":{"name":"tableColumnInfo","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"dbFileForm.value","pathType":"simple","queryType":"all","sql":"tableColumnSql","sqlType":"simple","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = dbFileForm.value\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"all\"\noutput[\"sql\"] = tableColumnSql\noutput[\"sqlType\"] = \"simple\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}},"insertRowForm":{"name":"insertRowForm","type":"apogee.Folder","children":{"input":{"name":"input","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return tableColumnInfo.data;","supplementalCode":""}},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":{"user_name":"bill","email":"bill@gmail.com","password_hash":"xxx"}}}}},"onceForm":{"name":"onceForm","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"uniqueKey":"topLevelDataPanel","type":"panel","formData":[{"key":"basicInvisible","value":{"uniqueKey":"basicInvisible","type":"invisible","valueMixed":"insertRowForm.value","valueType":"expressionReference","key":"insertData"}},{"key":"basicInvisible","value":{"uniqueKey":"basicInvisible","type":"invisible","valueMixed":"tableNameForm.value.table","valueType":"expressionReference","key":"tableName"}},{"key":"basicInvisible","value":{"uniqueKey":"basicInvisible","type":"invisible","valueMixed":"dbFileForm.value","valueType":"expressionReference","key":"dbPath"}},{"key":"basicInvisible","value":{"uniqueKey":"basicInvisible","type":"invisible","valueMixed":"tableColumnInfo.data","valueType":"expressionReference","key":"columnInfo"}}],"submit":{"type":"submit","useSubmit":true,"submitLabel":"Insert","useCancel":true,"cancelLabel":"Clear Query Data"}}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"uniqueKey\"] = \"topLevelDataPanel\"\noutput[\"type\"] = \"panel\"\noutput[\"formData\"]= []\noutput[\"formData\"][0]= {};\noutput[\"formData\"][0][\"key\"] = \"basicInvisible\"\noutput[\"formData\"][0][\"value\"]= {};\noutput[\"formData\"][0][\"value\"][\"uniqueKey\"] = \"basicInvisible\"\noutput[\"formData\"][0][\"value\"][\"type\"] = \"invisible\"\noutput[\"formData\"][0][\"value\"][\"valueMixed\"] = insertRowForm.value\noutput[\"formData\"][0][\"value\"][\"valueType\"] = \"expressionReference\"\noutput[\"formData\"][0][\"value\"][\"key\"] = \"insertData\"\noutput[\"formData\"][1]= {};\noutput[\"formData\"][1][\"key\"] = \"basicInvisible\"\noutput[\"formData\"][1][\"value\"]= {};\noutput[\"formData\"][1][\"value\"][\"uniqueKey\"] = \"basicInvisible\"\noutput[\"formData\"][1][\"value\"][\"type\"] = \"invisible\"\noutput[\"formData\"][1][\"value\"][\"valueMixed\"] = tableNameForm.value.table\noutput[\"formData\"][1][\"value\"][\"valueType\"] = \"expressionReference\"\noutput[\"formData\"][1][\"value\"][\"key\"] = \"tableName\"\noutput[\"formData\"][2]= {};\noutput[\"formData\"][2][\"key\"] = \"basicInvisible\"\noutput[\"formData\"][2][\"value\"]= {};\noutput[\"formData\"][2][\"value\"][\"uniqueKey\"] = \"basicInvisible\"\noutput[\"formData\"][2][\"value\"][\"type\"] = \"invisible\"\noutput[\"formData\"][2][\"value\"][\"valueMixed\"] = dbFileForm.value\noutput[\"formData\"][2][\"value\"][\"valueType\"] = \"expressionReference\"\noutput[\"formData\"][2][\"value\"][\"key\"] = \"dbPath\"\noutput[\"formData\"][3]= {};\noutput[\"formData\"][3][\"key\"] = \"basicInvisible\"\noutput[\"formData\"][3][\"value\"]= {};\noutput[\"formData\"][3][\"value\"][\"uniqueKey\"] = \"basicInvisible\"\noutput[\"formData\"][3][\"value\"][\"type\"] = \"invisible\"\noutput[\"formData\"][3][\"value\"][\"valueMixed\"] = tableColumnInfo.data\noutput[\"formData\"][3][\"value\"][\"valueType\"] = \"expressionReference\"\noutput[\"formData\"][3][\"value\"][\"key\"] = \"columnInfo\"\noutput[\"submit\"]= {};\noutput[\"submit\"][\"type\"] = \"submit\"\noutput[\"submit\"][\"useSubmit\"] = true\noutput[\"submit\"][\"submitLabel\"] = \"Insert\"\noutput[\"submit\"][\"useCancel\"] = true\noutput[\"submit\"][\"cancelLabel\"] = \"Clear Query Data\"\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.DesignerActionFormMember"}},"childrenNotWriteable":true},"insertRowData":{"name":"insertRowData","type":"apogee.JsonMember","updateData":{"invalidValue":true}},"insertRowSql":{"name":"insertRowSql","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let columnList = [];\nlet valueList = [];\nfor(let column in insertRowData.insertData) {\n    columnList.push(column);\n    let isText = _getColumnType(column,insertRowData.columnInfo);\n    valueList.push(isText ? `\"${insertRowData.insertData[column]}\"` : insertRowData.insertData[column]);\n}\nreturn `insert into ${insertRowData.tableName} (${columnList.toString()}) values (${valueList.toString()});`","supplementalCode":"let TEXT_TYPES = [\"TEXT\"];\n\nfunction _getColumnType(column,columnInfo) {\n    let columnInfoEntry = columnInfo.find(columnInfoEntry => columnInfoEntry.name == column);\n    if(columnInfoEntry) {\n        return (TEXT_TYPES.indexOf(columnInfoEntry.type) >= 0);\n    }\n    else {\n        throw new Error(\"column not found: \" + column);\n    }\n}"}},"insertQuery":{"name":"insertQuery","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"insertRowData.dbPath","pathType":"simple","queryType":"all","sql":"insertRowSql","sqlType":"simple","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = insertRowData.dbPath\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"all\"\noutput[\"sql\"] = insertRowSql\noutput[\"sqlType\"] = \"simple\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}},"loadOnceForm":{"name":"loadOnceForm","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"uniqueKey":"topLevelDataPanel","type":"panel","formData":[{"key":"basicInvisible","value":{"uniqueKey":"basicInvisible","type":"invisible","valueMixed":"tableNameForm.value.table","valueType":"expressionReference","key":"tableName"}},{"key":"basicInvisible","value":{"uniqueKey":"basicInvisible","type":"invisible","valueMixed":"dbFileForm.value","valueType":"expressionReference","key":"dbPath"}}],"submit":{"type":"submit","useSubmit":true,"submitLabel":"Load Table","useCancel":true,"cancelLabel":"Clear Query Data"}}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"uniqueKey\"] = \"topLevelDataPanel\"\noutput[\"type\"] = \"panel\"\noutput[\"formData\"]= []\noutput[\"formData\"][0]= {};\noutput[\"formData\"][0][\"key\"] = \"basicInvisible\"\noutput[\"formData\"][0][\"value\"]= {};\noutput[\"formData\"][0][\"value\"][\"uniqueKey\"] = \"basicInvisible\"\noutput[\"formData\"][0][\"value\"][\"type\"] = \"invisible\"\noutput[\"formData\"][0][\"value\"][\"valueMixed\"] = tableNameForm.value.table\noutput[\"formData\"][0][\"value\"][\"valueType\"] = \"expressionReference\"\noutput[\"formData\"][0][\"value\"][\"key\"] = \"tableName\"\noutput[\"formData\"][1]= {};\noutput[\"formData\"][1][\"key\"] = \"basicInvisible\"\noutput[\"formData\"][1][\"value\"]= {};\noutput[\"formData\"][1][\"value\"][\"uniqueKey\"] = \"basicInvisible\"\noutput[\"formData\"][1][\"value\"][\"type\"] = \"invisible\"\noutput[\"formData\"][1][\"value\"][\"valueMixed\"] = dbFileForm.value\noutput[\"formData\"][1][\"value\"][\"valueType\"] = \"expressionReference\"\noutput[\"formData\"][1][\"value\"][\"key\"] = \"dbPath\"\noutput[\"submit\"]= {};\noutput[\"submit\"][\"type\"] = \"submit\"\noutput[\"submit\"][\"useSubmit\"] = true\noutput[\"submit\"][\"submitLabel\"] = \"Load Table\"\noutput[\"submit\"][\"useCancel\"] = true\noutput[\"submit\"][\"cancelLabel\"] = \"Clear Query Data\"\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.DesignerActionFormMember"}},"childrenNotWriteable":true},"loadTableData":{"name":"loadTableData","type":"apogee.JsonMember","updateData":{"invalidValue":true}},"loadTableSql":{"name":"loadTableSql","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return `select * from ${loadTableData.tableName};`","supplementalCode":"let TEXT_TYPES = [\"TEXT\"];\n\nfunction _getColumnType(column,columnInfo) {\n    let columnInfoEntry = columnInfo.find(columnInfoEntry => columnInfoEntry.name == column);\n    if(columnInfoEntry) {\n        return (TEXT_TYPES.indexOf(columnInfoEntry.type) >= 0);\n    }\n    else {\n        throw new Error(\"column not found: \" + column);\n    }\n}"}},"loadTableQuery":{"name":"loadTableQuery","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"loadTableData.dbPath","pathType":"simple","queryType":"all","sql":"loadTableSql","sqlType":"simple","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = loadTableData.dbPath\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"all\"\noutput[\"sql\"] = loadTableSql\noutput[\"sqlType\"] = \"simple\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}}}},"createDatabaseTable":{"name":"createDatabaseTable","type":"apogee.Folder","children":{"dbFileForm":{"name":"dbFileForm","type":"apogee.Folder","children":{"input":{"name":"input","type":"apogee.JsonMember","updateData":{"data":""}},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":"C:\\Dave\\dev\\github\\apogeejs-module-repository\\database\\test.db"}}}},"tableInfoForm":{"name":"tableInfoForm","type":"apogee.Folder","children":{"input":{"name":"input","type":"apogee.JsonMember","updateData":{"data":""}},"value":{"name":"value","type":"apogee.JsonMember","updateData":{"data":{"tableName":"user","column":[{"columnName":"user_name","dataType":"TEXT","columnConstraints":["NOT NULL","UNIQUE"],"foreignKey":false,"defaultValue":""},{"columnName":"email","dataType":"TEXT","columnConstraints":["NOT NULL","UNIQUE"],"foreignKey":false,"defaultValue":""},{"columnName":"password_hash","dataType":"TEXT","columnConstraints":["NOT NULL"],"foreignKey":false,"defaultValue":""}]}}}},"childrenNotWriteable":true},"createTableSql":{"name":"createTableSql","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let tableInfo = tableInfoForm.value;\nlet tableLine = \"CREATE TABLE \" + tableInfo.tableName + \" (\\n\";\n\nlet tableConstraints = [];\nlet columnLines = tableInfo.column.map( (columnInfo,index) => {\n    let columnText = \"\\t\" + columnInfo.columnName + \" \"  + columnInfo.dataType;\n    let constraintText = columnInfo.columnConstraints.join(\" \");\n    if(constraintText.length > 0) {\n        columnText += \" \" + constraintText;\n    }\n    if(index < tableInfo.column.length-1) {\n        columnText += \",\";\n    }\n    return columnText;\n})\n\nlet tableText = tableLine + columnLines.join(\"\\n\") + \"\\n);\";\n\nreturn tableText;\n\n\n","supplementalCode":""}},"onceCellForm":{"name":"onceCellForm","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return  {\n    dbPath: dbFileForm.value,\n    sql: createTableSql\n}","supplementalCode":""}},"createTableData":{"name":"createTableData","type":"apogee.JsonMember","updateData":{"data":""}},"test2":{"name":"test2","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"dbFileForm.value","pathType":"simple","queryType":"all","sql":"/* select rowid from user; */\nselect * from user;","sqlType":"value","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = dbFileForm.value\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"all\"\noutput[\"sql\"] = \"/* select rowid from user; */\\nselect * from user;\"\noutput[\"sqlType\"] = \"value\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}},"test3":{"name":"test3","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"dbFileForm.value","pathType":"simple","queryType":"run","sql":"insert into user (user_name,email,password_hash) values ('sutter','sutter@intransix.com','xxx');","sqlType":"value","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = dbFileForm.value\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"run\"\noutput[\"sql\"] = \"insert into user (user_name,email,password_hash) values ('sutter','sutter@intransix.com','xxx');\"\noutput[\"sqlType\"] = \"value\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}},"createTableQuery":{"name":"createTableQuery","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"dbPath":"createTableData.dbPath","pathType":"simple","queryType":"run","sql":"createTableData.sql","sqlType":"simple","params":"","parameterType":"value","cached":false,"openType":"readwrite","verbose":true,"createIfMissing":false}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"dbPath\"] = createTableData.dbPath\noutput[\"pathType\"] = \"simple\"\noutput[\"queryType\"] = \"run\"\noutput[\"sql\"] = createTableData.sql\noutput[\"sqlType\"] = \"simple\"\noutput[\"params\"] = \"\"\noutput[\"parameterType\"] = \"value\"\noutput[\"cached\"] = false\noutput[\"openType\"] = \"readwrite\"\noutput[\"verbose\"] = true\noutput[\"createIfMissing\"] = false\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogee.SqliteQueryMember"}}}}}}},"components":{"createDatabaseFile":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Create Database File"}]},{"type":"heading2","content":[{"type":"text","text":"Select Parent Folder"}]},{"type":"paragraph","content":[{"type":"text","text":"Use this for to select the parent folder for the new DB file."}]},{"type":"apogeeComponent","attrs":{"name":"parentFolderForm","id":0,"state":""}},{"type":"paragraph"},{"type":"heading2","content":[{"type":"text","text":"Create File"}]},{"type":"paragraph","content":[{"type":"text","text":"Enter the file name and press \"Create Database\" to create a new, empty database file."}]},{"type":"apogeeComponent","attrs":{"name":"dbFileNameForm","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"onceCellForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This is the input that our create action will depend on."}]},{"type":"apogeeComponent","attrs":{"name":"createDatabaseData","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"databasePath","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"createDatabaseQuery","id":0,"state":""}},{"type":"paragraph"}]}},"children":{"parentFolderForm":{"type":"apogeeapp.FullDataFormCell","layoutCode":"let onSubmit = () => {\n    var {dialog} = require('electron').remote;\n\n    let pathPromise = dialog.showOpenDialog({properties: ['openDirectory']})\n        .then( fileOpenResult => {\n            if(fileOpenResult.canceled) {\n                //canceled - no action\n                return;\n            }\n        \telse if(fileOpenResult.filePaths.length === 1) {\n        \t    commandMessenger.dataCommand(\"parentFolderForm.value\",fileOpenResult.filePaths[0]);\n        \t}\n        \telse if(fileOpenResult.filePaths.length > 1) {\n        \t    apogeeUserAlert(\"Multiple file selection not supported!\");\n        \t}\n        \telse {\n        \t    //canceled - no action\n        \t\tapogeeUserAlert(\"Unknown error: no path selected\");\n        \t}\n        })\n        .catch(err => {\n        \tapogeeUserAlert(\"Error getting DB path: \" + err.toString());\n        });\n}\n\nreturn [\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        submitLabel: \"Select Folder\"\n    }    \n]","validatorCode":"return true","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"form":{"isViewActive":true},"layout":{"height":7000,"isViewActive":false},"validator":{"isViewActive":false},"input":{"isViewActive":false},"inputPrivate":{"isViewActive":false},"value":{"isViewActive":true,"height":280}}}}},"createDatabaseQuery":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"height":280,"isViewActive":true},"Input":{"isViewActive":true}}}}},"onceCellForm":{"type":"apogeeapp.FullActionFormCell","layoutCode":"let onCreate = () => {\n    commandMessenger.dataCommand(\"createDatabaseData\",inputData);\n}\nlet onClear = () => {\n    commandMessenger.dataCommand(\"createDatabaseData\",\"\");\n}\nreturn [\n    {\n        type: \"submit\",\n        onSubmit: onCreate,\n        onCancel: onClear,\n        submitLabel: \"Create Database\",\n        cancelLabel: \"Clear Create Database Data\"\n    }\n]","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":false},"form":{"isViewActive":true},"layout":{"isViewActive":false,"height":7000},"input":{"isViewActive":false,"height":7000},"inputPrivate":{"isViewActive":false}}}}},"createDatabaseData":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"dbFileNameForm":{"type":"apogeeapp.DesignerDataFormCell","validatorCode":"return true","allowInputExpressions":true,"viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Input":{"isViewActive":false},"On Save":{"isViewActive":false},"Value":{"height":280,"isViewActive":false}}}}},"databasePath":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":true,"height":280},"Formula":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true}},"insertTableRow":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Insert Table Row"}]},{"type":"heading2","content":[{"type":"text","text":"Database File"}]},{"type":"paragraph","content":[{"type":"text","text":"Select the working database file."}]},{"type":"apogeeComponent","attrs":{"name":"dbFileForm","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Table Metadata"}]},{"type":"paragraph","content":[{"type":"text","text":"Load the table metadata"}]},{"type":"apogeeComponent","attrs":{"name":"dbSchemaQuery","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"tableList","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"tableNameForm","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"tableColumnSql","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"tableColumnInfo","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Enter the data for the new row:"}]},{"type":"apogeeComponent","attrs":{"name":"insertRowForm","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"onceForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This is the input that our create action will depend on."}]},{"type":"apogeeComponent","attrs":{"name":"insertRowData","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"insertRowSql","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"insertQuery","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Load Table"}]},{"type":"paragraph","content":[{"type":"text","text":"Here we load the whole table"}]},{"type":"apogeeComponent","attrs":{"name":"loadOnceForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This is the input that our create action will depend on."}]},{"type":"apogeeComponent","attrs":{"name":"loadTableData","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"loadTableSql","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"loadTableQuery","id":0,"state":""}},{"type":"paragraph"}]}},"children":{"dbFileForm":{"type":"apogeeapp.FullDataFormCell","layoutCode":"let onSubmit = () => {\n    var {dialog} = require('electron').remote;\n\n    let pathPromise = dialog.showOpenDialog({properties: ['openFile']})\n        .then( fileOpenResult => {\n            if(fileOpenResult.canceled) {\n                //canceled - no action\n                return;\n            }\n        \telse if(fileOpenResult.filePaths.length === 1) {\n        \t    commandMessenger.dataCommand(\"dbFileForm.value\",fileOpenResult.filePaths[0]);\n        \t}\n        \telse if(fileOpenResult.filePaths.length > 1) {\n        \t    apogeeUserAlert(\"Multiple file selection not supported!\");\n        \t}\n        \telse {\n        \t    //canceled - no action\n        \t\tapogeeUserAlert(\"Unknown error: no path selected\");\n        \t}\n        })\n        .catch(err => {\n        \tapogeeUserAlert(\"Error getting DB path: \" + err.toString());\n        });\n}\n\nreturn [\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        submitLabel: \"Select DB File\"\n    }    \n]","validatorCode":"return true","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"form":{"isViewActive":true},"layout":{"height":7000,"isViewActive":false},"validator":{"isViewActive":false,"height":7000},"input":{"isViewActive":false,"height":7000},"inputPrivate":{"isViewActive":false,"height":7000},"value":{"isViewActive":true,"height":280}}}}},"dbSchemaQuery":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":false,"height":280},"Input":{"isViewActive":false}}}}},"tableList":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":false},"Data":{"isViewActive":false,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"tableColumnSql":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":false,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"tableNameForm":{"type":"apogeeapp.DesignerDataFormCell","validatorCode":"return true","allowInputExpressions":true,"viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Input":{"isViewActive":false},"On Save":{"isViewActive":false},"Value":{"isViewActive":false,"height":280}}}}},"tableColumnInfo":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":false,"height":280},"Input":{"isViewActive":false}}}}},"insertRowForm":{"type":"apogeeapp.FullDataFormCell","layoutCode":"return inputData.map(columnEntry => {\n    let hint = \"type \" + columnEntry.type;\n    if(columnEntry.notnull) hint += \", Not Null\";\n    \n    return {\n        type: \"textField\",\n        label: columnEntry.name + \": \",\n        size: 100,\n        key: columnEntry.name,\n        hint: hint\n    }\n});","validatorCode":"return true;","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"form":{"isViewActive":true},"layout":{"height":7000,"isViewActive":false},"validator":{"height":7000,"isViewActive":false},"input":{"height":7000,"isViewActive":false},"inputPrivate":{"height":7000,"isViewActive":false},"value":{"height":280,"isViewActive":false}}}}},"onceForm":{"type":"apogeeapp.DesignerActionFormCell","onSubmitCode":"cmdMsngr.dataCommand(\"insertRowData\",formValue);","onCancelCode":"cmdMsngr.dataCommand(\"insertRowData\",apogeeutil.INVALID_VALUE);","allowInputExpressions":true,"viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Input":{"isViewActive":false},"On Save":{"height":7000,"isViewActive":false},"On Cancel":{"height":7000,"isViewActive":false}}}}},"insertRowData":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"insertRowSql":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":false},"Data":{"isViewActive":true,"height":280},"Formula":{"height":7000,"isViewActive":false},"Private":{"height":7000,"isViewActive":false}}}}},"insertQuery":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":true,"height":280},"Input":{"isViewActive":true}}}}},"loadOnceForm":{"type":"apogeeapp.DesignerActionFormCell","onSubmitCode":"cmdMsngr.dataCommand(\"loadTableData\",formValue);","onCancelCode":"cmdMsngr.dataCommand(\"loadTableData\",apogeeutil.INVALID_VALUE);","allowInputExpressions":true,"viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Input":{"isViewActive":false},"On Save":{"height":7000,"isViewActive":false},"On Cancel":{"height":7000,"isViewActive":false}}}}},"loadTableData":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"loadTableSql":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":false},"Data":{"isViewActive":true,"height":280},"Formula":{"height":7000,"isViewActive":false},"Private":{"height":7000,"isViewActive":false}}}}},"loadTableQuery":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":true,"height":280},"Input":{"isViewActive":true}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"createDatabaseTable":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Create Database Table"}]},{"type":"heading2","content":[{"type":"text","text":"Database File"}]},{"type":"paragraph","content":[{"type":"text","text":"Select the working database file."}]},{"type":"apogeeComponent","attrs":{"name":"dbFileForm","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Create Table"}]},{"type":"paragraph","content":[{"type":"text","text":"The following form can be used to enter table info to create the SQL."}]},{"type":"apogeeComponent","attrs":{"name":"tableInfoForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"The following cell constructs the create table SQL from the above form."}]},{"type":"apogeeComponent","attrs":{"name":"createTableSql","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Create Table Command"}]},{"type":"paragraph","content":[{"type":"text","text":"The follow form can be used to create the table."}]},{"type":"paragraph","content":[{"type":"text","text":"This is a little cludgy. One buttons populates a table that is used as input for the SQL command execution. This is one method of running something "},{"type":"text","marks":[{"type":"italic"}],"text":"once"},{"type":"text","text":". It shields the subsequent dependent cells from any changes to the data other than what you input by pressing the button."}]},{"type":"paragraph","content":[{"type":"text","text":"There is also a button to clear the table. Here clearing this cell will also make the subsequent cells not execute."}]},{"type":"paragraph","content":[{"type":"text","text":"We should probably get a better mechanism here, such as a SQLite cell that has a execute command."}]},{"type":"apogeeComponent","attrs":{"name":"onceCellForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This is the input that our create action will depend on."}]},{"type":"apogeeComponent","attrs":{"name":"createTableData","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This form executes the command in the createTableData cell immediately."}]},{"type":"apogeeComponent","attrs":{"name":"createTableQuery","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Testing Cells"}]},{"type":"heading3","content":[{"type":"text","text":"Query Table"}]},{"type":"apogeeComponent","attrs":{"name":"test2","id":0,"state":""}},{"type":"heading3","content":[{"type":"text","text":"Insert Table Data"}]},{"type":"paragraph","content":[{"type":"text","text":"This can be used to insert data. The following is an insert statement we can use."}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"textcolor","attrs":{"color":"blue"}},{"type":"fontfamily","attrs":{"fontfamily":"Monospace"}}],"text":"insert into user (user_name,email,password_hash) values ('sutter','sutter@intransix.com','xxx');"}]},{"type":"apogeeComponent","attrs":{"name":"test3","id":0,"state":""}},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph"}]}},"children":{"dbFileForm":{"type":"apogeeapp.FullDataFormCell","layoutCode":"let onSubmit = () => {\n    var {dialog} = require('electron').remote;\n\n    let pathPromise = dialog.showOpenDialog({properties: ['openFile']})\n        .then( fileOpenResult => {\n            if(fileOpenResult.canceled) {\n                //canceled - no action\n                return;\n            }\n        \telse if(fileOpenResult.filePaths.length === 1) {\n        \t    commandMessenger.dataCommand(\"dbFileForm.value\",fileOpenResult.filePaths[0]);\n        \t}\n        \telse if(fileOpenResult.filePaths.length > 1) {\n        \t    apogeeUserAlert(\"Multiple file selection not supported!\");\n        \t}\n        \telse {\n        \t    //canceled - no action\n        \t\tapogeeUserAlert(\"Unknown error: no path selected\");\n        \t}\n        })\n        .catch(err => {\n        \tapogeeUserAlert(\"Error getting DB path: \" + err.toString());\n        });\n}\n\nreturn [\n    {\n        type: \"submit\",\n        onSubmit: onSubmit,\n        submitLabel: \"Select DB File\"\n    }    \n]","validatorCode":"return true","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"form":{"isViewActive":true},"layout":{"height":7000,"isViewActive":false},"validator":{"isViewActive":false,"height":7000},"input":{"isViewActive":false,"height":7000},"inputPrivate":{"isViewActive":false,"height":7000},"value":{"isViewActive":true,"height":280}}}}},"tableInfoForm":{"type":"apogeeapp.FullDataFormCell","layoutCode":"return [\n\t{\n\t\t\"type\": \"textField\",\n\t\t\"label\": \"Table Name: \",\n\t\t\"key\": \"tableName\"\n\t},\n\t{\n\t\t\"type\": \"list\",\n\t\t\"label\": \"Columns\",\n\t\t\"key\": \"column\",\n\t\t\"entryType\": {\n\t\t\t\"layout\": {\n\t\t\t\t\"type\": \"panel\",\n\t\t\t\t\"formData\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"textField\",\n\t\t\t\t\t\t\"label\": \"Column Name: \",\n\t\t\t\t\t\t\"key\": \"columnName\",\n\t\t\t\t\t\t\"hint\": \"required\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"dropdown\",\n\t\t\t\t\t\t\"label\": \"Data Type: \",\n\t\t\t\t\t\t\"entries\": [\n\t\t\t\t\t\t\t\"INTEGER\",\n\t\t\t\t\t\t\t\"REAL\",\n\t\t\t\t\t\t\t\"TEXT\",\n\t\t\t\t\t\t\t\"BLOB\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"key\": \"dataType\",\n\t\t\t\t\t\t\"hint\": \"required\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"checkboxGroup\",\n\t\t\t\t\t\t\"label\": \"Column Constraints: \",\n\t\t\t\t\t\t\"entries\": [\n\t\t\t\t\t\t\t\"NOT NULL\",\n\t\t\t\t\t\t\t\"UNIQUE\",\n\t\t\t\t\t\t\t\"PRIMARY KEY\",\n\t\t\t\t\t\t\t\"AUTOINCREMENT\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"key\": \"columnConstraints\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"horizontalLayout\",\n\t\t\t\t\t\t\"formData\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\t\"label\": \"Foreign Key\",\n\t\t\t\t\t\t\t\t\"key\": \"foreignKey\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"textField\",\n\t\t\t\t\t\t\t\t\"label\": \"Remote Table: \",\n\t\t\t\t\t\t\t\t\"key\": \"remoteTable\",\n\t\t\t\t\t\t\t\t\"selector\": {\n\t\t\t\t\t\t\t\t\t\"parentKey\": \"foreignKey\",\n\t\t\t\t\t\t\t\t\t\"parentValue\": true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"textField\",\n\t\t\t\t\t\t\t\t\"label\": \"Remote Column: \",\n\t\t\t\t\t\t\t\t\"key\": \"remoteColumn\",\n\t\t\t\t\t\t\t\t\"selector\": {\n\t\t\t\t\t\t\t\t\t\"parentKey\": \"foreignKey\",\n\t\t\t\t\t\t\t\t\t\"parentValue\": true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"type\": \"textField\",\n\t\t\t\t\t\t\"label\": \"Default Value: \",\n\t\t\t\t\t\t\"key\": \"defaultValue\",\n\t\t\t\t\t\t\"hint\": \"optional\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"key\": \"columnEntry\"\n\t\t\t}\n\t\t}\n\t}\n]","validatorCode":"return true","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"form":{"isViewActive":true},"layout":{"height":7000,"isViewActive":false},"validator":{"isViewActive":false},"input":{"isViewActive":false},"inputPrivate":{"height":7000,"isViewActive":false},"value":{"isViewActive":false,"height":280}}}}},"createTableSql":{"type":"apogeeapp.JsonCell","dataView":"Text Data","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":true,"height":280},"Formula":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"onceCellForm":{"type":"apogeeapp.FullActionFormCell","layoutCode":"let onCreate = () => {\n    \n    commandMessenger.dataCommand(\"createTableData\",inputData);\n}\nlet onClear = () => {\n    commandMessenger.dataCommand(\"createTableData\",\"\");\n}\nreturn [\n    {\n        type: \"submit\",\n        onSubmit: onCreate,\n        onCancel: onClear,\n        submitLabel: \"Create Table\",\n        cancelLabel: \"Clear SQL for Statement\"\n    }\n]","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"form":{"isViewActive":true},"layout":{"isViewActive":false,"height":7000},"input":{"isViewActive":true,"height":7000},"inputPrivate":{"isViewActive":false}}}}},"createTableData":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"test2":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":true,"height":280},"Input":{"isViewActive":true}}}}},"test3":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":true,"height":280},"Input":{"isViewActive":true}}}}},"createTableQuery":{"type":"apogeeapp.SqliteQueryCell","viewState":{"childDisplayState":{"views":{"Info":{"isViewActive":true},"Result":{"isViewActive":true,"height":280},"Input":{"isViewActive":true}}}}}},"viewState":{"treeState":1,"tabOpened":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}